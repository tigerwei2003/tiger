<include file="Public/header" />

<link rel="stylesheet" href="__HTML__/css/uniform.css" />

<div id="content">
	<div id="content-header">
		<h1>服务器管理</h1>
	</div>
	<div id="breadcrumb">
		<a href="{:U('Index/index')}" title="Go to Home" class="tip-bottom"><i
			class="icon-home"></i> 后台首页</a> <a href="{:U('Game/server')}"
			class="current">服务器管理</a> <a href="javascript:;"
			onClick="javascript:history.go(-1);" class="tip-bottom" id="gotoback"><i
			class="icon-share-alt"></i> 返回</a>
	</div>



	<div class="container-fluid">

		<div class="alert alert-error">
			点击“新增服务器”“编辑服务器”“删除服务器”等按钮进行操作.<br> 1、一般来讲，单卡开20个GS；双卡开40个GS<br>
			2、total_cpu_capacity=1000是双E5-2630v2，以此为参：照单CPU一般是500，双E5-2650是1500<br>
			3、per_gpu_capacity=1000是单个K340GPU，以此为参照：单个K520的GPU是2000，单个760的CPU是2000。注意！！！和GPU的数目无关，只和单颗GPU的能力有关。<br>
			4、per_vpu_capacity=165888000是单个K340GPU的编码能力，720P*30FPS，以此为参照：单个K520GPU与之相同，单个760的GPU与之相同。<br>
			注意！！！和GPU的数目无关，只和单颗GPU的能力有关。 <a href="#" data-dismiss="alert"
				class="close">×</a>
		</div>

		<div class="row-fluid">
			<div class="span12">
				<div class="widget-box">
					<div class="widget-title">
						<span class="icon"> <i class="icon-th"></i>
						</span>
						<h5>服务器管理</h5>
						<a
							href="{:U('Game/server_edit')}"><span
							class="label btn-success"><i class="icon-plus icon-white"></i>
								新增服务器</span></a> 
					</div>
					<div class="widget-content">
						<div class="cont_max">
							<table class="table table-bordered table-striped with-check"
								id="maxtable">
								<thead>
									<tr>
										<th width="50">ID</th>
										<th width="50">区域ID</th>
										<th width="50">状态</th>
										<th width="200">连接GSM的IP</th>
										<th width="200">本机IP</th>
										<th width="200">供客户端连接的IP</th>
										<th width="100">GS个数</th>
										<th width="100">CPU总容量</th>
										<th width="100">每个GPU容量</th>
										<th width="100">每个VPU容量</th>
										<th width="100">外网起始端口</th>
										<th width="100">GS起始端口</th>
										<th width="200">备注</th>
									
										<th width="40" class="taskOptions">编辑</th>
										
										
										<th width="40" class="taskOptions">删除</th>
										
									</tr>
								</thead>
								<tbody>
									<foreach name="Server" item="row">
									<tr>
										<td>{$row.id}</td>
										<td>{$row.region_id}</td>
										<td>{$row.status}</td>
										<td>{$row.ip}</td>
										<td>{$row.nat_ip}</td>
										<td>{$row.wan_ip}</td>
										<td>{$row.gs_num}</td>
										<td>{$row.total_cpu_capacity}</td>
										<td>{$row.per_gpu_capacity}</td>
										<td>{$row.per_vpu_capacity}</td>
										<td>{$row.begin_wan_port}</td>
										<td>{$row.begin_gs_listening_port}</td>
										<td>{$row.note}</td>										
										<td class="taskOptions"><a href="javascript:;"
											onClick="javascript:window.location.href='{:U('server_edit',array('id'=>$row['sid']))}';"
											class="tip-top" data-original-title="Update" title="Update"><i
												class="icon-pencil"></i></a></td>
										
										
										<td class="taskOptions"><a href="javascript:;"
											onClick="javascript:ConfirmDel('{:U('Delete/server',array('id'=>$row['sid']))}');"
											class="tip-top" data-original-title="Delete" title="Delete"><i
												class="icon-remove"></i></a></td>										
									</tr>
									</foreach>
								</tbody>
							</table>
						</div>
						<div class="pagination" style="text-align: center">{$pages}</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row-fluid">
			<div id="footer" class="span12">{:C('SEO_COPYRIGHT')}</div>
		</div>
	</div>
</div>
<script src="__HTML__/js/jquery.uniform.js"></script>
<script src="__HTML__/js/unicorn.tables.js"></script>
<script type="text/javascript">
$(document).ready(function(e) {
	tableresize(1400);
});
$(window).resize(function(e){
	tableresize(1400);
});
</script>

<include file="Public/footer" />
